<!-- This login strip module only supports login with Twitter -->
<style>
    body {
        padding-top: 50px;
    }
    #logo {
        color: #555;
    }
    #menu-link {
        text-align: right;
    }
    #menu-ul {
        list-style-type: none;
    }
    .navbar-text {
       float: none;
       text-align: center;
    }
    .navbar-right {
        padding: 0 15px;
        float: right !important;
        margin-right: -15px;
    }
    .navbar-brand {
        display: none;
    }

    @media screen and (min-width: 768px) {
        .navbar-brand {
            display: block;
        }
    }
</style>
<div id="login-body" ng-app="loginModule">
    <div id="login-status" ng-controller="StatusController">
        <nav class="navbar navbar-fixed-top navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="/"><p><strong>Your pin</strong></p></a>
                </div>
                <div ng-show="isLogged">
                    <div role="presentation" class="navbar-right dropdown" ng-controller="LogoutController">
                        <a class="dropdown-toggle navbar-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" ng-show="!isLoading"><i class="fa fa-bars"></i></a><i class="fa fa-cog fa-spin" ng-show="isLoading"></i>
                        <ul class="dropdown-menu pull-right">
                            <li><a href="#" ng-click="logout()"><i class="fa fa-sign-out"></i> Sign out</a></li>
                        </ul>
                    </div>
                    <h4 class="navbar-text">Welcome, {{user.displayName}}!</h4>
                </div>
                <div ng-show="receivedLogin && !isLogged">
                    <h4 class="navbar-text">Not logged in. <span ng-show="!isIframe()">Please <a id="login-link" class="navbar-link" href="session/twitter">login with Twitter</a></span><span ng-show="isIframe()"><a href="https://yourpin.herokuapp.com" target="_blank">Open in new tab</a> to login</span>.</h4>
                </div>
                <div ng-show="!receivedLogin">
                    <h4 class="navbar-text">Loading, please wait...</h4>
                </div>
            </div>
        </nav>
    </div>
</div>
<script>
    // Animate "settings" section
    (function($) {
        $("#settings-link").click(function() {
            if($("#settings-div").css('display') == 'none') {
                $("#settings-container").css("height", "45em");
                $("#settings-div").css('display', 'block').addClass("animated slideInDown");
            }
        });
    }(jQuery));
</script>
